{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/app/components/ChatSidebar.tsx"],"sourcesContent":["/*\r\n  Component: ChatSidebar\r\n  Location: src/app/components/chat/ChatSidebar.tsx\r\n  Description: Displays the left sidebar navigation including links and footer for the chatbot page.\r\n*/\r\n\r\n\"use client\";\r\n\r\nimport { FC } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport SavedChatsSidebar from \"./SavedChatsSidebar\";\r\n\r\ninterface ChatSidebarProps {\r\n  sidebarOpen: boolean;\r\n  setSidebarOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst ChatSidebar: FC<ChatSidebarProps> = ({ sidebarOpen, setSidebarOpen }) => {\r\n  const router = useRouter();\r\n\r\n  const goHome = () => {\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const handleClose = () => setSidebarOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <aside\r\n        className={`fixed md:static z-30 top-0 left-0 h-full w-64 bg-zinc-950 border-r border-zinc-800 p-4 transform transition-transform duration-200 ease-in-out ${\r\n          sidebarOpen ? \"translate-x-0\" : \"-translate-x-full md:translate-x-0\"\r\n        }`}\r\n      >\r\n        <h2 className=\"text-lg font-semibold mb-4\">Cyberlegal.AI</h2>\r\n        <nav className=\"text-sm space-y-3 flex flex-col\">\r\n          <button\r\n            onClick={goHome}\r\n            className=\"text-left text-zinc-300 hover:text-white\"\r\n          >\r\n            Home\r\n          </button>\r\n          <button className=\"text-left text-zinc-300 hover:text-white\">\r\n            Cyber Legal Chat\r\n          </button>\r\n          <button className=\"text-left text-zinc-300 hover:text-white\">\r\n            My Saved Questions\r\n          </button>\r\n        </nav>\r\n        <div className=\"mt-auto pt-4 border-t border-zinc-800 text-xs text-zinc-600\">\r\n          © 2025 Cyberlegal.AI\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Mobile overlay */}\r\n      {sidebarOpen && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black bg-opacity-40 z-20 md:hidden\"\r\n          onClick={handleClose}\r\n        ></div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatSidebar;\r\n"],"names":[],"mappings":"AAAA;;;;AAIA;;;;AAKA;;;AAHA;;AAWA,MAAM,cAAoC,CAAC,EAAE,WAAW,EAAE,cAAc,EAAE;;IACxE,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,SAAS;QACb,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,cAAc,IAAM,eAAe;IAEzC,qBACE;;0BACE,6LAAC;gBACC,WAAW,CAAC,+IAA+I,EACzJ,cAAc,kBAAkB,sCAChC;;kCAEF,6LAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCAAO,WAAU;0CAA2C;;;;;;0CAG7D,6LAAC;gCAAO,WAAU;0CAA2C;;;;;;;;;;;;kCAI/D,6LAAC;wBAAI,WAAU;kCAA8D;;;;;;;;;;;;YAM9E,6BACC,6LAAC;gBACC,WAAU;gBACV,SAAS;;;;;;;;AAKnB;GA7CM;;QACW,qIAAA,CAAA,YAAS;;;KADpB;uCA+CS","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/app/components/ChatEmptyState.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { FC, useState } from \"react\";\r\nimport { PaperAirplaneIcon } from \"@heroicons/react/24/solid\";  \r\ninterface ChatEmptyStateProps {\r\n  onPresetClick: (text: string) => void;\r\n  input: string;\r\n  onInputChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSend: (e: React.FormEvent) => void;\r\n}\r\n\r\nconst rolePrompts: Record<string, string[]> = {\r\n  Prosecutor: [\r\n    \"What constitutes cyber libel under PH law?\",\r\n    \"What case laws support evidence admissibility?\",\r\n    \"How to file a complaint against online fraud?\"\r\n  ],\r\n  Defendant: [\r\n    \"What are defenses against cyber libel?\",\r\n    \"How to challenge digital evidence in court?\",\r\n    \"Can I be held liable for private messages leaked?\"\r\n  ],\r\n  Judge: [\r\n    \"Summarize key rulings on RA 10175.\",\r\n    \"What is jurisprudence on online entrapment?\",\r\n    \"Guide to issuing search warrants on cloud data\"\r\n  ],\r\n};\r\n\r\nconst ChatEmptyState: FC<ChatEmptyStateProps> = ({\r\n  onPresetClick,\r\n  input,\r\n  onInputChange,\r\n  onSend,\r\n}) => {\r\n  const [selectedRole, setSelectedRole] =\r\n    useState<keyof typeof rolePrompts>(\"Prosecutor\");\r\n  const [selectedTone, setSelectedTone] = useState(\"Professional\");\r\n  const [activePrompt, setActivePrompt] = useState<string | null>(null);\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center h-[70vh] text-center transition-opacity duration-500 px-4\">\r\n        <h2 className=\"text-xl font-semibold p-6\">What legal question do you have in mind?</h2>\r\n      <div className=\"bg-zinc-900 border border-zinc-700 rounded-lg shadow-md w-full max-w-2xl px-6 py-6 space-y-6\">\r\n\r\n        {/* Role + Tone Dropdowns */}\r\n        <div className=\"flex justify-start gap-4 text-xs text-zinc-300\">\r\n          <div className=\"flex items-center gap-1\">\r\n            <span className=\"text-zinc-400\">AI Role:</span>\r\n            <select\r\n              value={selectedRole}\r\n              onChange={(e) =>\r\n                setSelectedRole(e.target.value as keyof typeof rolePrompts)\r\n              }\r\n              className=\"bg-zinc-800 border border-zinc-700 px-2 py-1 rounded-md text-white cursor-pointer\"\r\n            >\r\n              <option>Prosecutor</option>\r\n              <option>Defendant</option>\r\n              <option>Judge</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <span className=\"text-zinc-400\">AI Tone:</span>\r\n            <select\r\n              value={selectedTone}\r\n              onChange={(e) => setSelectedTone(e.target.value)}\r\n              className=\"bg-zinc-800 border border-zinc-700 px-2 py-1 rounded-md text-white cursor-pointer\"\r\n            >\r\n              <option>Professional</option>\r\n              <option>Casual</option>\r\n              <option>Neutral</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Input field */}\r\n        <form\r\n      onSubmit={onSend}\r\n      className=\"relative flex items-center w-full\"\r\n    >\r\n      <input\r\n        value={input}\r\n        onChange={onInputChange}\r\n        type=\"text\"\r\n        placeholder=\"Tell me about the case...\"\r\n        className=\"w-full pr-12 pl-4 py-2 rounded-md bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        className=\"absolute right-2 top-1/2 -translate-y-1/2 text-indigo-400 hover:text-indigo-600 transition cursor-pointer\"\r\n        aria-label=\"Send\"\r\n      >\r\n        <PaperAirplaneIcon className=\"w-5 h-5 rotate-320\" />\r\n      </button>\r\n    </form>\r\n      </div>\r\n\r\n      {/* Role Tabs */}\r\n      <div className=\"mt-8 text-sm text-zinc-400\">\r\n        <p className=\"mb-2\">Here are some prompts to help you begin:</p>\r\n        <div className=\"flex justify-center gap-2 mb-4\">\r\n          {([\"Prosecutor\", \"Defendant\", \"Judge\"] as const).map((role) => (\r\n            <button\r\n              key={role}\r\n              onClick={() => setSelectedRole(role)}\r\n              className={`px-4 py-2 rounded-md border text-sm cursor-pointer ${\r\n                selectedRole === role\r\n                  ? \"bg-indigo-600 text-white border-indigo-600\"\r\n                  : \"border-zinc-700 text-zinc-300 hover:bg-zinc-800\"\r\n              }`}\r\n            >\r\n              As a {role}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Prompt Suggestions */}\r\n        <div className=\"flex flex-wrap justify-center gap-2 max-w-2xl mx-auto\">\r\n          {rolePrompts[selectedRole].map((prompt, idx) => {\r\n            const isActive = activePrompt === prompt;\r\n\r\n            return (\r\n              <button\r\n                key={idx}\r\n                onClick={() => {\r\n                  onPresetClick(prompt);\r\n                  setActivePrompt(prompt);\r\n                }}\r\n                className={`px-4 py-2 rounded-full text-sm border transition whitespace-nowrap cursor-pointer\r\n                  ${\r\n                    isActive\r\n                      ? \"bg-indigo-600 text-white border-indigo-600\"\r\n                      : \"bg-zinc-800 text-zinc-300 border-zinc-700 hover:bg-indigo-500 hover:text-white\"\r\n                  }`}\r\n              >\r\n                {prompt}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatEmptyState;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAWA,MAAM,cAAwC;IAC5C,YAAY;QACV;QACA;QACA;KACD;IACD,WAAW;QACT;QACA;QACA;KACD;IACD,OAAO;QACL;QACA;QACA;KACD;AACH;AAEA,MAAM,iBAA0C,CAAC,EAC/C,aAAa,EACb,KAAK,EACL,aAAa,EACb,MAAM,EACP;;IACC,MAAM,CAAC,cAAc,gBAAgB,GACnC,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA4B;IACrC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhE,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAA4B;;;;;;0BAC5C,6LAAC;gBAAI,WAAU;;kCAGb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;kDAChC,6LAAC;wCACC,OAAO;wCACP,UAAU,CAAC,IACT,gBAAgB,EAAE,MAAM,CAAC,KAAK;wCAEhC,WAAU;;0DAEV,6LAAC;0DAAO;;;;;;0DACR,6LAAC;0DAAO;;;;;;0DACR,6LAAC;0DAAO;;;;;;;;;;;;;;;;;;0CAGZ,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;kDAChC,6LAAC;wCACC,OAAO;wCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;wCAC/C,WAAU;;0DAEV,6LAAC;0DAAO;;;;;;0DACR,6LAAC;0DAAO;;;;;;0DACR,6LAAC;0DAAO;;;;;;;;;;;;;;;;;;;;;;;;kCAMd,6LAAC;wBACH,UAAU;wBACV,WAAU;;0CAEV,6LAAC;gCACC,OAAO;gCACP,UAAU;gCACV,MAAK;gCACL,aAAY;gCACZ,WAAU;;;;;;0CAEZ,6LAAC;gCACC,MAAK;gCACL,WAAU;gCACV,cAAW;0CAEX,cAAA,6LAAC,kOAAA,CAAA,oBAAiB;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAM/B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;kCAAO;;;;;;kCACpB,6LAAC;wBAAI,WAAU;kCACZ,AAAC;4BAAC;4BAAc;4BAAa;yBAAQ,CAAW,GAAG,CAAC,CAAC,qBACpD,6LAAC;gCAEC,SAAS,IAAM,gBAAgB;gCAC/B,WAAW,CAAC,mDAAmD,EAC7D,iBAAiB,OACb,+CACA,mDACJ;;oCACH;oCACO;;+BARD;;;;;;;;;;kCAcX,6LAAC;wBAAI,WAAU;kCACZ,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,QAAQ;4BACtC,MAAM,WAAW,iBAAiB;4BAElC,qBACE,6LAAC;gCAEC,SAAS;oCACP,cAAc;oCACd,gBAAgB;gCAClB;gCACA,WAAW,CAAC;kBACV,EACE,WACI,+CACA,kFACJ;0CAEH;+BAZI;;;;;wBAeX;;;;;;;;;;;;;;;;;;AAKV;GAlHM;KAAA;uCAoHS","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/app/components/ChatInput.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { FC } from \"react\";\r\n\r\ninterface ChatInputProps {\r\n  input: string;\r\n  onInputChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSend: (e: React.FormEvent) => void;\r\n}\r\n\r\nconst ChatInput: FC<ChatInputProps> = ({ input, onInputChange, onSend }) => {\r\n  return (\r\n    <form\r\n      onSubmit={onSend}\r\n      className=\"w-full border-t border-zinc-800 bg-zinc-900 p-4\"\r\n    >\r\n      <div className=\"max-w-3xl mx-auto flex items-center gap-2\">\r\n        <input\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={onInputChange}\r\n          placeholder=\"Ask about cyber libel, privacy law...\"\r\n          className=\"flex-1 px-4 py-2 rounded-md bg-zinc-800 border border-zinc-700 text-white placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all\"\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"px-5 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white text-sm transition-all cursor-pointer\"\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ChatInput;\r\n"],"names":[],"mappings":";;;;AAAA;;AAUA,MAAM,YAAgC,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE;IACrE,qBACE,6LAAC;QACC,UAAU;QACV,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,MAAK;oBACL,OAAO;oBACP,UAAU;oBACV,aAAY;oBACZ,WAAU;;;;;;8BAEZ,6LAAC;oBACC,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT;KAvBM;uCAyBS","debugId":null}},
    {"offset": {"line": 456, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/lib/auth.js"],"sourcesContent":["'use client';\r\nimport Cookies from 'js-cookie';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport const logout = () => {\r\n  Cookies.remove('cyberlegal-auth');\r\n  sessionStorage.clear();\r\n  toast.success('Logged out successfully');\r\n  setTimeout(() => {\r\n    window.location.href = '/login';\r\n  }, 1000);\r\n};\r\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIO,MAAM,SAAS;IACpB,wJAAA,CAAA,UAAO,CAAC,MAAM,CAAC;IACf,eAAe,KAAK;IACpB,0JAAA,CAAA,UAAK,CAAC,OAAO,CAAC;IACd,WAAW;QACT,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB,GAAG;AACL","debugId":null}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/app/components/ChatHeader.tsx"],"sourcesContent":["\"use client\";\r\n\r\n/*\r\n  Component: ChatHeader\r\n  Description: Displays the top navbar of the chatbot including the mobile menu and logout.\r\n*/\r\n\r\nimport { FC } from \"react\";\r\nimport { Menu } from \"lucide-react\";\r\nimport { logout } from \"@/lib/auth\";\r\n\r\ninterface ChatHeaderProps {\r\n  setSidebarOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst ChatHeader: FC<ChatHeaderProps> = ({ setSidebarOpen }) => {\r\n  return (\r\n    <header className=\"bg-zinc-900 border-b border-zinc-800 p-4 flex justify-between items-center\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <button className=\"md:hidden\" onClick={() => setSidebarOpen(true)}>\r\n          <Menu />\r\n        </button>\r\n        <h1 className=\"font-semibold\">Cyberlegal.AI Chat Assistant</h1>\r\n      </div>\r\n      <button\r\n        onClick={logout}\r\n        className=\"text-sm px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition\"\r\n      >\r\n        Logout\r\n      </button>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default ChatHeader;\r\n"],"names":[],"mappings":";;;;AAQA;AACA;AATA;;;;AAeA,MAAM,aAAkC,CAAC,EAAE,cAAc,EAAE;IACzD,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,WAAU;wBAAY,SAAS,IAAM,eAAe;kCAC1D,cAAA,6LAAC,qMAAA,CAAA,OAAI;;;;;;;;;;kCAEP,6LAAC;wBAAG,WAAU;kCAAgB;;;;;;;;;;;;0BAEhC,6LAAC;gBACC,SAAS,qHAAA,CAAA,SAAM;gBACf,WAAU;0BACX;;;;;;;;;;;;AAKP;KAjBM;uCAmBS","debugId":null}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/app/components/ChatBubble.tsx"],"sourcesContent":["// File: ChatBubble.tsx\r\nimport { FC } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface ChatBubbleProps {\r\n  sender: \"user\" | \"bot\";\r\n  content: string;\r\n}\r\n\r\nconst ChatBubble: FC<ChatBubbleProps> = ({ sender, content }) => {\r\n  const isUser = sender === \"user\";\r\n\r\n  return (\r\n    <div className={`flex w-full ${isUser ? \"justify-end\" : \"justify-start\"}`}>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 8 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{\r\n          type: \"spring\",\r\n          stiffness: 500,\r\n          damping: 30,\r\n        }}\r\n        className={`max-w-[75%] px-4 py-2 rounded-lg text-sm leading-relaxed ${\r\n          isUser\r\n            ? \"bg-indigo-600 text-white rounded-br-none\"\r\n            : \"bg-zinc-800 text-zinc-100 rounded-bl-none\"\r\n        }`}\r\n      >\r\n        {content}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBubble;\r\n"],"names":[],"mappings":"AAAA,uBAAuB;;;;;AAEvB;;;AAOA,MAAM,aAAkC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;IAC1D,MAAM,SAAS,WAAW;IAE1B,qBACE,6LAAC;QAAI,WAAW,CAAC,YAAY,EAAE,SAAS,gBAAgB,iBAAiB;kBACvE,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,YAAY;gBACV,MAAM;gBACN,WAAW;gBACX,SAAS;YACX;YACA,WAAW,CAAC,yDAAyD,EACnE,SACI,6CACA,6CACJ;sBAED;;;;;;;;;;;AAIT;KAvBM;uCAyBS","debugId":null}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/app/components/ChatMessageList.tsx"],"sourcesContent":["// File: src/app/components/ChatMessageList.tsx\r\n\r\nimport { FC } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport ChatBubble from \"./ChatBubble\";\r\nimport { ChatMessage } from \"@/types/ChatTypes\";\r\n\r\n// ✅ Correct props interface\r\ninterface ChatMessageListProps {\r\n  messages: ChatMessage[];\r\n  isTyping: boolean;\r\n}\r\n\r\nconst ChatMessageList: FC<ChatMessageListProps> = ({ messages, isTyping }) => {\r\n  return (\r\n    <AnimatePresence>\r\n      {messages.map((msg, i) => (\r\n        <motion.div\r\n          key={i}\r\n          initial={{ opacity: 0, y: 8 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          exit={{ opacity: 0 }}\r\n          transition={{ delay: i * 0.05 }}\r\n        >\r\n          <ChatBubble sender={msg.sender} content={msg.content} />\r\n        </motion.div>\r\n      ))}\r\n\r\n      {isTyping && (\r\n        <motion.div\r\n          key=\"typing\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: messages.length * 0.05 }}\r\n          className=\"flex justify-start\"\r\n        >\r\n          <div className=\"bg-zinc-800 text-white px-4 py-2 rounded-lg text-sm flex items-center space-x-1\">\r\n            <div className=\"text-sm text-zinc-500 animate-pulse\">\r\n              Cyberlegal.AI is typing\r\n            </div>\r\n            <span className=\"typing-dot w-2 h-2 bg-white rounded-full animate-bounce\" />\r\n            <span className=\"typing-dot w-2 h-2 bg-white rounded-full animate-bounce delay-150\" />\r\n            <span className=\"typing-dot w-2 h-2 bg-white rounded-full animate-bounce delay-300\" />\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default ChatMessageList;\r\n"],"names":[],"mappings":"AAAA,+CAA+C;;;;;AAG/C;AAAA;AACA;;;;AASA,MAAM,kBAA4C,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACvE,qBACE,6LAAC,4LAAA,CAAA,kBAAe;;YACb,SAAS,GAAG,CAAC,CAAC,KAAK,kBAClB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;oBAAE;oBACnB,YAAY;wBAAE,OAAO,IAAI;oBAAK;8BAE9B,cAAA,6LAAC,0IAAA,CAAA,UAAU;wBAAC,QAAQ,IAAI,MAAM;wBAAE,SAAS,IAAI,OAAO;;;;;;mBAN/C;;;;;YAUR,0BACC,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBAET,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,YAAY;oBAAE,OAAO,SAAS,MAAM,GAAG;gBAAK;gBAC5C,WAAU;0BAEV,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCAAsC;;;;;;sCAGrD,6LAAC;4BAAK,WAAU;;;;;;sCAChB,6LAAC;4BAAK,WAAU;;;;;;sCAChB,6LAAC;4BAAK,WAAU;;;;;;;;;;;;eAZd;;;;;;;;;;;AAkBd;KAnCM;uCAqCS","debugId":null}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/utils/chatStorage.ts"],"sourcesContent":["export const CHAT_STORAGE_KEY = \"cyberlegal-chat-history\";\r\n\r\nexport function saveChatHistory(messages: ChatMessage[]) {\r\n  localStorage.setItem(CHAT_STORAGE_KEY, JSON.stringify(messages));\r\n}\r\n\r\nexport function loadChatHistory(): ChatMessage[] {\r\n  if (typeof window === \"undefined\") return [];\r\n  const stored = localStorage.getItem(CHAT_STORAGE_KEY);\r\n  return stored ? JSON.parse(stored) : [];\r\n}"],"names":[],"mappings":";;;;;AAAO,MAAM,mBAAmB;AAEzB,SAAS,gBAAgB,QAAuB;IACrD,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;AACxD;AAEO,SAAS;IACd,uCAAmC;;IAAS;IAC5C,MAAM,SAAS,aAAa,OAAO,CAAC;IACpC,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU,EAAE;AACzC","debugId":null}},
    {"offset": {"line": 747, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/RYZEN%205%205500/Documents/GitHub/OUTSOURCE/CYBERLEGAL/cyber-legal-ai/src/app/chatbot/page.tsx"],"sourcesContent":["// File: src/app/chatbot/page.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Cookies from \"js-cookie\";\r\n\r\n// Components\r\nimport ChatSidebar from '../components/ChatSidebar';\r\nimport ChatEmptyState from '../components/ChatEmptyState';\r\n// import ChatSuggestedPrompts from '../components/ChatSuggestedPrompts';\r\nimport ChatInput from '../components/ChatInput';\r\nimport ChatHeader from '../components/ChatHeader';\r\nimport ChatMessageList from '../components/ChatMessageList';\r\nimport { saveChatHistory, loadChatHistory } from \"@/utils/chatStorage\";\r\nimport { ChatMessage } from \"@/types/ChatTypes\";\r\n\r\nexport default function ChatbotPage() {\r\n  const router = useRouter();\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [authChecked, setAuthChecked] = useState(false);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  const chatRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const isLoggedIn =\r\n      sessionStorage.getItem(\"cyberlegal-auth\") ||\r\n      Cookies.get(\"cyberlegal-auth\");\r\n\r\n    if (!isLoggedIn) {\r\n      router.push(\"/login\");\r\n    } else {\r\n      setAuthChecked(true);\r\n    }\r\n  }, [router]);\r\n\r\n  useEffect(() => {\r\n    if (chatRef.current) {\r\n      chatRef.current.scrollTop = chatRef.current.scrollHeight;\r\n    }\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    // Restore chat from localStorage on mount\r\n    const history = loadChatHistory();\r\n    if (history.length > 0) {\r\n      setMessages(history);\r\n    }\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    // Save chat history whenever it changes\r\n    if (messages.length > 0) {\r\n      saveChatHistory(messages);\r\n    }\r\n  }, [messages]);\r\n\r\n  const handleSend = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage: ChatMessage = { sender: \"user\", content: input.trim() };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n\r\n    try {\r\n      const res = await fetch(\"http://127.0.0.1:8000/api/rag/query\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ query: userMessage.content }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      const botReply: ChatMessage = {\r\n        sender: \"bot\",\r\n        content: data.response,\r\n      };\r\n\r\n      setMessages((prev) => [...prev, botReply]);\r\n    } catch (err) {\r\n      console.error(\"Backend error:\", err);\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          sender: \"bot\",\r\n          content:\r\n            \"⚠️ Sorry, something went wrong while processing your question.\",\r\n        },\r\n      ]);\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const sendPreset = (text: string) => {\r\n    setInput(text);\r\n  };\r\n\r\n  if (!authChecked) return null;\r\n\r\n  return (\r\n    <div className=\"flex h-screen overflow-hidden bg-zinc-900 text-white\">\r\n      {/* Sidebar */}\r\n      <ChatSidebar\r\n        sidebarOpen={sidebarOpen}\r\n        setSidebarOpen={setSidebarOpen}\r\n        onClose={() => setSidebarOpen(false)}\r\n      />\r\n\r\n      {/* Main Area */}\r\n      <main className=\"flex flex-col flex-1\">\r\n        <ChatHeader setSidebarOpen={setSidebarOpen} />\r\n\r\n        {/* Chat UI */}\r\n        <div ref={chatRef} className=\"flex-1 overflow-y-auto px-6 py-4\">\r\n          <div className=\"max-w-3xl mx-auto space-y-4\">\r\n            {messages.length === 0 && !isTyping ? (\r\n              <ChatEmptyState\r\n                onPresetClick={sendPreset}\r\n                input={input}\r\n                onInputChange={(e) => setInput(e.target.value)}\r\n                onSend={handleSend}\r\n              />\r\n            ) : (\r\n              <>\r\n                {/* {messages.map((msg, i) => (\r\n                  <ChatBubble\r\n                    key={i}\r\n                    sender={msg.sender}\r\n                    content={msg.content}\r\n                  />\r\n                ))} */}\r\n                <ChatMessageList messages={messages} isTyping={isTyping} />\r\n                {/* {isTyping && (\r\n                  <div className=\"text-sm text-zinc-500 animate-pulse\">\r\n                    Cyberlegal.AI is typing...\r\n                  </div>\r\n                )} */}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Input shown only after messages start */}\r\n        {messages.length > 0 && (\r\n          <ChatInput\r\n            input={input}\r\n            onInputChange={(e) => setInput(e.target.value)}\r\n            onSend={handleSend}\r\n          />\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}